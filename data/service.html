<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta http-equiv="Content-Language" content="en"><meta name="msapplication-TileColor" content="#2d89ef"><meta name="theme-color" content="#4188c9"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta charset="UTF-8"><link href="bootstrap.css" rel="stylesheet"><script>var settings;function send(t,n,e){var o=new XMLHttpRequest;o.open(t.method||"POST",t.url||t,!0),o.setRequestHeader("Content-Type",t.content||"application/json; charset=utf-8"),o.addEventListener("load",function(){if(200===o.status)try{e&&e(JSON.parse(o.response))}catch(t){e&&e(!1)}else e&&e(!1)}),o.send(JSON.stringify(n))}function $(t){return document.getElementById(t)}function reboot(){send("reboot",{},function(t){}),$("modal").classList.add("hide")}function loadSettings(){send("settings",{},function(t){if(t){for(key in t){var n=$(key);n&&(n.tagName&&"SPAN"==n.tagName||(n.value=t[key]))}settings=t}})}function logout(){document.cookie="id=",window.location=window.location.href.replace(/:\/\//,"://log:out@"),location.href="/"}window.onload=function(){loadSettings(),"function"==typeof load&&load(),document.body.addEventListener("click",function(t){"function"==typeof click&&click(t);var n=t.target.id;console.log(n),"search"===n&&scan(),"btn_exit"===n&&logout()})}</script><script src="bootstrap.js"></script><title>Service</title><style></style></head><body><nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top"><div class="container-fluid"><a class="navbar-brand" href="#">Project</a> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a class="nav-link active" aria-current="page" href="index.html">Home</a></li><li class="nav-item"><a class="nav-link" href="settings.html">Settings</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Service</a><ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="service.html">Update</a></li><li><hr class="dropdown-divider"></li><li><a class="dropdown-item" href="heap">Heap</a></li></ul></li></ul><form class="d-flex"><input class="form-control me-2" type="search" value="ver: 0.1" disabled="disabled"> <button class="btn btn-outline-danger" type="submit">Logout</button></form></div></div></nav><div class="container"><div class="row"><div class="col-sm-12 col-md-2 col-lg-2"></div><div class="col-sm-12 col-md-10 l9 mt-5 mb-5"><h2>Service:</h2><div class="row mt-5"><div class="col-sm-12 col-md-6"><h4 class="text-primary">Uploading files :</h4><div class="row"><div class="input-group"><input type="file" class="form-control" id="upload" aria-describedby="btn_flash" aria-label="Upload"> <button class="btn btn-outline-secondary" type="button" id="btn_upload">Upload</button></div></div></div></div><div class="row mt-5"><div class="col-sm-12 col-md-6"><h4 class="text-primary">Firmware update :</h4><div class="row"><div class="input-group"><input type="file" class="form-control" id="update" aria-describedby="btn_flash" aria-label="Upload"> <button class="btn btn-outline-secondary" type="button" id="btn_flash">Update</button></div></div></div></div></div></div><footer class="footer"></footer><script>function sendFile(){$("modal").classList.add("hide"),$("loader").classList.remove("hide");var e=$("update").files[0],d=new XMLHttpRequest,t=new FormData;t.append("update",e),d.open("POST","/update"),d.addEventListener("load",function(){200===d.status&&($("loader").classList.add("hide"),alert("Update:"+d.response))}),d.send(t)}function load(){}function click(e){var d=e.target.id;"btn_update"===d&&($("update").files[0]?($("m_text").innerHTML="Update module?",$("modal").classList.remove("hide")):$("update").click());"m_yes"===d&&sendFile()}</script></div></body></html>