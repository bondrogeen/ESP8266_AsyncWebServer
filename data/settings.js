var settings;function send(e,t,n,o){var s=new XMLHttpRequest;s.open(o||"POST",e,!0),s.setRequestHeader("Content-Type","application/json; charset=utf-8"),s.addEventListener("load",function(){if(200===s.status)try{var e=JSON.parse(s.response);n(e)}catch(e){n(!1)}else n(!1)}),s.send(JSON.stringify(t))}function $(e){return document.getElementById(e)}function reboot(){send("reboot",{},function(e){}),$("modal").classList.add("hide")}function loadSettings(){send("settings",{},function(e){if($("loader").classList.add("hide"),e){for(key in e)$(key)&&($(key).value=e[key]);settings=e}})}function logout(){document.cookie="id=",window.location=window.location.href.replace(/:\/\//,"://log:out@"),location.href="/"}window.onload=function(){loadSettings(),document.body.addEventListener("click",function(e){var t=e.target.id;console.log(t),"search"===t&&scan(),"btn_exit"===t&&logout(),"save_m"===t&&reboot(),"btn_save"===t&&save(),"close"!==t&&"close_m"!==t||$("modal").classList.add("hide"),"LI"===e.target.tagName&&t&&($("wifi_ssid").value=t,$("wifi_pass").value="",$("wifi_pass").focus(),$("wifi_mode").value="3"),$("list").style.display="none"})};